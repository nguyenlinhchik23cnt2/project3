<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Danh s√°ch S√°ch</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body class="container mt-4 bg-light">

<div class="card shadow">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
        <h3 class="mb-0">üìö Qu·∫£n l√Ω S√°ch</h3>
        <div>
            <a href="/book/create" class="btn btn-warning fw-bold">
                <i class="bi bi-plus-circle"></i> Th√™m m·ªõi S√°ch
            </a>
            <a href="/author" class="btn btn-light text-primary ms-2">
                <i class="bi bi-people"></i> Qu·∫£n l√Ω T√°c gi·∫£
            </a>
        </div>
    </div>

    <div class="card-body">
        <table class="table table-bordered table-hover align-middle">
            <thead class="table-dark text-center">
            <tr>
                <th>ID</th>
                <th>·∫¢nh</th>
                <th>T√™n S√°ch</th>
                <th>Gi√° b√°n</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>T√°c Gi·∫£ (M-N)</th>
                <th>Tr·∫°ng th√°i</th>
                <th style="width: 150px;">Ch·ª©c nƒÉng</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="book : ${listBook}">
                <td class="text-center fw-bold" th:text="${book.Id}"></td>

                <td class="text-center">
                    <img th:if="${book.ImgUrl != null}"
                         th:src="${book.ImgUrl}"
                         style="width: 60px; height: auto; border-radius: 5px; border: 1px solid #ccc;">
                    <span th:unless="${book.ImgUrl != null}" class="text-muted small">No Image</span>
                </td>

                <td class="fw-bold text-primary" th:text="${book.Title}"></td>

                <td class="text-end text-danger fw-bold"
                    th:text="${#numbers.formatDecimal(book.Price, 0, 'COMMA', 0, 'POINT')} + ' ƒë'">
                </td>

                <td class="text-center">
                    <span th:if="${book.Quantity > 0}" th:text="${book.Quantity}" class="fw-bold"></span>
                    <span th:unless="${book.Quantity > 0}" class="badge bg-danger">H·∫øt h√†ng</span>
                </td>

                <td>
                    <span th:each="auth : ${book.author}"
                          class="badge bg-info text-dark me-1"
                          th:text="${auth.Name}">
                    </span>
                </td>

                <td class="text-center">
                    <span th:if="${book.Active}" class="badge bg-success">
                        <i class="bi bi-check-circle"></i> ƒêang kinh doanh
                    </span>
                    <span th:unless="${book.Active}" class="badge bg-secondary">
                        <i class="bi bi-x-circle"></i> Ng·ª´ng kinh doanh
                    </span>
                </td>

                <td class="text-center">
                    <a th:href="@{/book/edit/{id}(id=${book.Id})}" class="btn btn-warning btn-sm" title="S·ª≠a">
                        <i class="bi bi-pencil-square"></i>
                    </a>
                    <a href="#" class="btn btn-danger btn-sm" title="X√≥a (Demo)">
                        <i class="bi bi-trash"></i>
                    </a>
                </td>
            </tr>

            <tr th:if="${#lists.isEmpty(listBook)}">
                <td colspan="8" class="text-center text-muted py-4">
                    Ch∆∞a c√≥ d·ªØ li·ªáu s√°ch n√†o.
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
